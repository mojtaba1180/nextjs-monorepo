---
title: هوک‌ها
description: مجموعه هوک‌های React مفید و کاربردی
---

# هوک‌های React

این بخش شامل تمام هوک‌های سفارشی موجود در کتابخانه است که برای بهبود تجربه توسعه و عملکرد اپلیکیشن طراحی شده‌اند.

## useDebounce

هوک برای تاخیر در اجرای عملیات تا زمانی که کاربر تایپ کردن را متوقف کند.

### ویژگی‌ها

- **بهینه‌سازی عملکرد**: کاهش تعداد درخواست‌های API
- **قابلیت تنظیم**: تاخیر قابل تنظیم
- **TypeScript Support**: پشتیبانی کامل از TypeScript

### استفاده

```tsx
import { useDebounce } from '@workspace/custom-ui'
import { useState, useEffect } from 'react'

function SearchComponent() {
  const [searchTerm, setSearchTerm] = useState('')
  const debouncedSearchTerm = useDebounce(searchTerm, 500)

  useEffect(() => {
    if (debouncedSearchTerm) {
      // جستجو در API
      searchAPI(debouncedSearchTerm)
    }
  }, [debouncedSearchTerm])

  return (
    <input
      type="text"
      value={searchTerm}
      onChange={(e) => setSearchTerm(e.target.value)}
      placeholder="جستجو کنید..."
    />
  )
}
```

### مثال پیشرفته

```tsx
function AdvancedSearch() {
  const [query, setQuery] = useState('')
  const [results, setResults] = useState([])
  const [loading, setLoading] = useState(false)
  
  const debouncedQuery = useDebounce(query, 300)

  useEffect(() => {
    if (debouncedQuery.length > 2) {
      setLoading(true)
      fetch(`/api/search?q=${debouncedQuery}`)
        .then(res => res.json())
        .then(data => {
          setResults(data.results)
          setLoading(false)
        })
    } else {
      setResults([])
    }
  }, [debouncedQuery])

  return (
    <div>
      <input
        value={query}
        onChange={(e) => setQuery(e.target.value)}
        placeholder="جستجو..."
      />
      {loading && <p>در حال جستجو...</p>}
      {results.map(result => (
        <div key={result.id}>{result.title}</div>
      ))}
    </div>
  )
}
```

## useLocalStorage

هوک برای مدیریت داده‌ها در localStorage با همگام‌سازی خودکار.

### ویژگی‌ها

- **همگام‌سازی خودکار**: تغییرات به صورت خودکار در localStorage ذخیره می‌شود
- **Type Safety**: پشتیبانی کامل از TypeScript
- **Error Handling**: مدیریت خطاهای localStorage

### استفاده پایه

```tsx
import { useLocalStorage } from '@workspace/custom-ui'

function UserPreferences() {
  const [theme, setTheme] = useLocalStorage('theme', 'light')
  const [language, setLanguage] = useLocalStorage('language', 'fa')

  return (
    <div>
      <select value={theme} onChange={(e) => setTheme(e.target.value)}>
        <option value="light">روشن</option>
        <option value="dark">تاریک</option>
      </select>
      
      <select value={language} onChange={(e) => setLanguage(e.target.value)}>
        <option value="fa">فارسی</option>
        <option value="en">انگلیسی</option>
      </select>
    </div>
  )
}
```

### استفاده با TypeScript

```tsx
interface UserSettings {
  notifications: boolean
  autoSave: boolean
  fontSize: number
}

function Settings() {
  const [settings, setSettings] = useLocalStorage<UserSettings>('userSettings', {
    notifications: true,
    autoSave: false,
    fontSize: 14
  })

  const updateSetting = (key: keyof UserSettings, value: any) => {
    setSettings(prev => ({ ...prev, [key]: value }))
  }

  return (
    <div>
      <label>
        <input
          type="checkbox"
          checked={settings.notifications}
          onChange={(e) => updateSetting('notifications', e.target.checked)}
        />
        اعلان‌ها
      </label>
      
      <label>
        <input
          type="checkbox"
          checked={settings.autoSave}
          onChange={(e) => updateSetting('autoSave', e.target.checked)}
        />
        ذخیره خودکار
      </label>
      
      <input
        type="range"
        min="12"
        max="24"
        value={settings.fontSize}
        onChange={(e) => updateSetting('fontSize', parseInt(e.target.value))}
      />
    </div>
  )
}
```

## useToggle

هوک ساده برای مدیریت وضعیت boolean با قابلیت toggle.

### ویژگی‌ها

- **سادگی**: API ساده و قابل فهم
- **انعطاف‌پذیری**: قابلیت تنظیم مقدار اولیه
- **عملکرد بالا**: بدون re-render اضافی

### استفاده

```tsx
import { useToggle } from '@workspace/custom-ui'

function ToggleExample() {
  const [isOpen, toggle, open, close] = useToggle(false)

  return (
    <div>
      <button onClick={toggle}>
        {isOpen ? 'بستن' : 'باز کردن'}
      </button>
      
      <button onClick={open}>باز کردن</button>
      <button onClick={close}>بستن</button>
      
      {isOpen && (
        <div>محتوای باز شده</div>
      )}
    </div>
  )
}
```

### مثال‌های کاربردی

```tsx
// مدیریت منو
function Navigation() {
  const [isMenuOpen, toggleMenu] = useToggle(false)

  return (
    <nav>
      <button onClick={toggleMenu}>
        ☰ منو
      </button>
      
      {isMenuOpen && (
        <ul>
          <li><a href="/">خانه</a></li>
          <li><a href="/about">درباره</a></li>
          <li><a href="/contact">تماس</a></li>
        </ul>
      )}
    </nav>
  )
}

// مدیریت modal
function ModalExample() {
  const [isModalOpen, toggleModal] = useToggle(false)

  return (
    <>
      <button onClick={toggleModal}>
        باز کردن مدال
      </button>
      
      {isModalOpen && (
        <div className="modal">
          <div className="modal-content">
            <h2>مدال</h2>
            <button onClick={toggleModal}>بستن</button>
          </div>
        </div>
      )}
    </>
  )
}
```

## useModal

هوک پیشرفته برای مدیریت مدال‌ها با قابلیت‌های مختلف.

### ویژگی‌ها

- **مدیریت چندگانه**: پشتیبانی از چندین مدال همزمان
- **انیمیشن**: پشتیبانی از انیمیشن‌های مختلف
- **Type Safety**: پشتیبانی کامل از TypeScript

### استفاده

```tsx
import { useModal } from '@workspace/custom-ui'

function ModalExample() {
  const { openModal, closeModal, isOpen } = useModal()

  return (
    <div>
      <button onClick={() => openModal('example')}>
        باز کردن مدال
      </button>
      
      {isOpen('example') && (
        <div className="modal">
          <div className="modal-content">
            <h2>مدال نمونه</h2>
            <button onClick={() => closeModal('example')}>
              بستن
            </button>
          </div>
        </div>
      )}
    </div>
  )
}
```

### مثال پیشرفته

```tsx
function AdvancedModalExample() {
  const { 
    openModal, 
    closeModal, 
    closeAllModals, 
    isOpen, 
    getModalData 
  } = useModal()

  const handleOpenModal = () => {
    openModal('userModal', {
      userId: 123,
      title: 'ویرایش کاربر'
    })
  }

  return (
    <div>
      <button onClick={handleOpenModal}>
        ویرایش کاربر
      </button>
      
      <button onClick={closeAllModals}>
        بستن همه مدال‌ها
      </button>
      
      {isOpen('userModal') && (
        <div className="modal">
          <div className="modal-content">
            <h2>{getModalData('userModal')?.title}</h2>
            <p>شناسه کاربر: {getModalData('userModal')?.userId}</p>
            <button onClick={() => closeModal('userModal')}>
              بستن
            </button>
          </div>
        </div>
      )}
    </div>
  )
}
```

## ترکیب هوک‌ها

### مثال کاربردی: فرم جستجو با ذخیره تاریخچه

```tsx
function SearchWithHistory() {
  const [query, setQuery] = useState('')
  const [searchHistory, setSearchHistory] = useLocalStorage('searchHistory', [])
  const [isHistoryOpen, toggleHistory] = useToggle(false)
  const debouncedQuery = useDebounce(query, 300)

  useEffect(() => {
    if (debouncedQuery && !searchHistory.includes(debouncedQuery)) {
      setSearchHistory(prev => [debouncedQuery, ...prev.slice(0, 9)])
    }
  }, [debouncedQuery, searchHistory, setSearchHistory])

  return (
    <div>
      <input
        value={query}
        onChange={(e) => setQuery(e.target.value)}
        placeholder="جستجو..."
      />
      
      <button onClick={toggleHistory}>
        تاریخچه جستجو
      </button>
      
      {isHistoryOpen && (
        <div className="search-history">
          {searchHistory.map((item, index) => (
            <div key={index} onClick={() => setQuery(item)}>
              {item}
            </div>
          ))}
        </div>
      )}
    </div>
  )
}
```
