---
title: مثال‌های کاربردی
description: نمونه‌های عملی استفاده از کامپوننت‌ها
---

# مثال‌های کاربردی

این بخش شامل نمونه‌های عملی و کاربردی از استفاده از کامپوننت‌های کتابخانه است.

## فرم ثبت نام

مثال کامل فرم ثبت نام با استفاده از کامپوننت‌های فرم:

```tsx
import { 
  FormProvider, 
  RHFInput, 
  RHFButton, 
  CustomButton,
  ErrorProvider 
} from '@workspace/custom-ui'
import { useForm } from 'react-hook-form'

function RegistrationForm() {
  const methods = useForm({
    defaultValues: {
      firstName: '',
      lastName: '',
      email: '',
      phone: '',
      password: '',
      confirmPassword: '',
      terms: false
    }
  })

  const onSubmit = async (data) => {
    try {
      // ارسال داده‌ها به سرور
      const response = await fetch('/api/register', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      })
      
      if (response.ok) {
        // نمایش پیام موفقیت
        console.log('ثبت نام موفق')
      }
    } catch (error) {
      console.error('خطا در ثبت نام:', error)
    }
  }

  return (
    <ErrorProvider>
      <div className="max-w-md mx-auto p-6 bg-white rounded-lg shadow-md">
        <h2 className="text-2xl font-bold text-center mb-6">ثبت نام</h2>
        
        <FormProvider methods={methods} onSubmit={onSubmit}>
          <div className="space-y-4">
            <div className="grid grid-cols-2 gap-4">
              <RHFInput
                name="firstName"
                label="نام"
                placeholder="نام خود را وارد کنید"
                required
              />
              <RHFInput
                name="lastName"
                label="نام خانوادگی"
                placeholder="نام خانوادگی خود را وارد کنید"
                required
              />
            </div>
            
            <RHFInput
              name="email"
              type="email"
              label="ایمیل"
              placeholder="ایمیل خود را وارد کنید"
              required
            />
            
            <RHFInput
              name="phone"
              mode="phone"
              label="شماره تلفن"
              placeholder="09123456789"
              required
            />
            
            <RHFInput
              name="password"
              type="password"
              label="رمز عبور"
              placeholder="رمز عبور خود را وارد کنید"
              required
              minLength={{
                value: 8,
                message: "رمز عبور باید حداقل 8 کاراکتر باشد"
              }}
            />
            
            <RHFInput
              name="confirmPassword"
              type="password"
              label="تایید رمز عبور"
              placeholder="رمز عبور را مجدداً وارد کنید"
              required
              validate={(value) => {
                const password = methods.getValues('password')
                return value === password || "رمز عبور مطابقت ندارد"
              }}
            />
            
            <RHFCheckbox
              name="terms"
              label="قوانین و مقررات را می‌پذیرم"
              required
            />
            
            <RHFButton
              type="submit"
              variant="primary"
              fullWidth
              size="lg"
            >
              ثبت نام
            </RHFButton>
          </div>
        </FormProvider>
      </div>
    </ErrorProvider>
  )
}
```

## داشبورد کاربر

مثال داشبورد با استفاده از مدال‌ها و مدیریت state:

```tsx
import { 
  CustomButton, 
  DialogModal, 
  useModal,
  useLocalStorage,
  useDebounce 
} from '@workspace/custom-ui'
import { useState } from 'react'

function UserDashboard() {
  const [searchTerm, setSearchTerm] = useState('')
  const [users, setUsers] = useState([])
  const [selectedUser, setSelectedUser] = useState(null)
  const debouncedSearchTerm = useDebounce(searchTerm, 300)
  const [favorites, setFavorites] = useLocalStorage('favoriteUsers', [])
  const { openModal, closeModal, isOpen } = useModal()

  // جستجو در کاربران
  useEffect(() => {
    if (debouncedSearchTerm) {
      searchUsers(debouncedSearchTerm).then(setUsers)
    }
  }, [debouncedSearchTerm])

  const handleEditUser = (user) => {
    setSelectedUser(user)
    openModal('editUser', { user })
  }

  const handleDeleteUser = (user) => {
    setSelectedUser(user)
    openModal('deleteUser', { user })
  }

  const toggleFavorite = (userId) => {
    setFavorites(prev => 
      prev.includes(userId) 
        ? prev.filter(id => id !== userId)
        : [...prev, userId]
    )
  }

  return (
    <div className="p-6">
      <div className="flex justify-between items-center mb-6">
        <h1 className="text-2xl font-bold">داشبورد کاربران</h1>
        <CustomButton 
          variant="primary"
          onClick={() => openModal('addUser')}
        >
          اضافه کردن کاربر
        </CustomButton>
      </div>

      {/* جستجو */}
      <div className="mb-6">
        <input
          type="text"
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
          placeholder="جستجو در کاربران..."
          className="w-full p-3 border rounded-lg"
        />
      </div>

      {/* لیست کاربران */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        {users.map(user => (
          <div key={user.id} className="bg-white p-4 rounded-lg shadow">
            <div className="flex justify-between items-start mb-2">
              <h3 className="font-semibold">{user.name}</h3>
              <button
                onClick={() => toggleFavorite(user.id)}
                className={`text-2xl ${
                  favorites.includes(user.id) ? 'text-red-500' : 'text-gray-300'
                }`}
              >
                ♥
              </button>
            </div>
            <p className="text-gray-600 mb-4">{user.email}</p>
            <div className="flex space-x-2">
              <CustomButton
                size="sm"
                variant="outline"
                onClick={() => handleEditUser(user)}
              >
                ویرایش
              </CustomButton>
              <CustomButton
                size="sm"
                variant="danger"
                onClick={() => handleDeleteUser(user)}
              >
                حذف
              </CustomButton>
            </div>
          </div>
        ))}
      </div>

      {/* مدال ویرایش کاربر */}
      {isOpen('editUser') && (
        <DialogModal
          isOpen={true}
          onClose={() => closeModal('editUser')}
          title="ویرایش کاربر"
          size="md"
        >
          <EditUserForm 
            user={selectedUser}
            onSave={(updatedUser) => {
              // منطق ذخیره
              closeModal('editUser')
            }}
          />
        </DialogModal>
      )}

      {/* مدال حذف کاربر */}
      {isOpen('deleteUser') && (
        <DialogModal
          isOpen={true}
          onClose={() => closeModal('deleteUser')}
          title="تایید حذف"
          size="sm"
        >
          <div className="p-4">
            <p>آیا مطمئن هستید که می‌خواهید {selectedUser?.name} را حذف کنید؟</p>
            <div className="flex space-x-2 mt-4">
              <CustomButton
                variant="danger"
                onClick={() => {
                  // منطق حذف
                  closeModal('deleteUser')
                }}
              >
                حذف
              </CustomButton>
              <CustomButton
                variant="outline"
                onClick={() => closeModal('deleteUser')}
              >
                انصراف
              </CustomButton>
            </div>
          </div>
        </DialogModal>
      )}
    </div>
  )
}
```

## سیستم اعلان‌ها

مثال سیستم اعلان‌ها با استفاده از toast ها:

```tsx
import { 
  ToastProvider, 
  useToast, 
  ErrorProvider, 
  useError 
} from '@workspace/custom-ui'

function NotificationSystem() {
  return (
    <ErrorProvider>
      <ToastProvider>
        <NotificationDemo />
      </ToastProvider>
    </ErrorProvider>
  )
}

function NotificationDemo() {
  const { showToast } = useToast()
  const { addAppError } = useError()

  const handleSuccess = () => {
    showToast({
      message: 'عملیات با موفقیت انجام شد',
      type: 'success',
      duration: 3000
    })
  }

  const handleError = () => {
    showToast({
      message: 'خطا در انجام عملیات',
      type: 'error',
      duration: 5000
    })
    
    addAppError({
      message: 'خطای سرور: 500',
      type: 'server',
      severity: 'error',
      dismissible: true
    })
  }

  const handleWarning = () => {
    showToast({
      message: 'هشدار: این عملیات قابل بازگشت نیست',
      type: 'warning',
      duration: 4000
    })
  }

  const handleInfo = () => {
    showToast({
      message: 'اطلاعات جدید موجود است',
      type: 'info',
      duration: 3000
    })
  }

  const handleActionToast = () => {
    showToast({
      message: 'فایل حذف شد',
      type: 'success',
      action: {
        label: 'بازگردانی',
        onClick: () => {
          showToast({
            message: 'فایل بازگردانده شد',
            type: 'info'
          })
        }
      }
    })
  }

  return (
    <div className="p-6">
      <h2 className="text-xl font-bold mb-4">سیستم اعلان‌ها</h2>
      
      <div className="grid grid-cols-2 md:grid-cols-3 gap-4">
        <CustomButton
          variant="success"
          onClick={handleSuccess}
          fullWidth
        >
          موفقیت
        </CustomButton>
        
        <CustomButton
          variant="danger"
          onClick={handleError}
          fullWidth
        >
          خطا
        </CustomButton>
        
        <CustomButton
          variant="warning"
          onClick={handleWarning}
          fullWidth
        >
          هشدار
        </CustomButton>
        
        <CustomButton
          variant="info"
          onClick={handleInfo}
          fullWidth
        >
          اطلاعات
        </CustomButton>
        
        <CustomButton
          variant="primary"
          onClick={handleActionToast}
          fullWidth
        >
          اعلان با عملیات
        </CustomButton>
      </div>
    </div>
  )
}
```

## فرم چندمرحله‌ای

مثال فرم چندمرحله‌ای با استفاده از مدال‌ها:

```tsx
import { 
  DialogModal, 
  CustomButton, 
  RHFInput, 
  FormProvider,
  useToggle 
} from '@workspace/custom-ui'
import { useForm } from 'react-hook-form'

function MultiStepForm() {
  const [currentStep, setCurrentStep] = useState(1)
  const [isOpen, toggleModal] = useToggle(false)
  const methods = useForm({
    defaultValues: {
      personalInfo: {
        firstName: '',
        lastName: '',
        email: ''
      },
      addressInfo: {
        street: '',
        city: '',
        postalCode: ''
      },
      preferences: {
        newsletter: false,
        notifications: true
      }
    }
  })

  const steps = [
    { id: 1, title: 'اطلاعات شخصی', component: PersonalInfoStep },
    { id: 2, title: 'آدرس', component: AddressStep },
    { id: 3, title: 'تنظیمات', component: PreferencesStep }
  ]

  const nextStep = () => {
    if (currentStep < steps.length) {
      setCurrentStep(currentStep + 1)
    }
  }

  const prevStep = () => {
    if (currentStep > 1) {
      setCurrentStep(currentStep - 1)
    }
  }

  const onSubmit = (data) => {
    console.log('داده‌های نهایی:', data)
    toggleModal()
  }

  const CurrentStepComponent = steps[currentStep - 1].component

  return (
    <>
      <CustomButton onClick={toggleModal}>
        شروع فرم چندمرحله‌ای
      </CustomButton>

      <DialogModal
        isOpen={isOpen}
        onClose={toggleModal}
        title={`مرحله ${currentStep}: ${steps[currentStep - 1].title}`}
        size="lg"
      >
        <FormProvider methods={methods} onSubmit={onSubmit}>
          <div className="p-4">
            {/* Progress Bar */}
            <div className="mb-6">
              <div className="flex justify-between mb-2">
                {steps.map((step, index) => (
                  <div
                    key={step.id}
                    className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${
                      currentStep > step.id
                        ? 'bg-green-500 text-white'
                        : currentStep === step.id
                        ? 'bg-blue-500 text-white'
                        : 'bg-gray-200 text-gray-600'
                    }`}
                  >
                    {step.id}
                  </div>
                ))}
              </div>
              <div className="w-full bg-gray-200 rounded-full h-2">
                <div
                  className="bg-blue-500 h-2 rounded-full transition-all duration-300"
                  style={{ width: `${(currentStep / steps.length) * 100}%` }}
                />
              </div>
            </div>

            {/* Step Content */}
            <CurrentStepComponent />

            {/* Navigation */}
            <div className="flex justify-between mt-6">
              <CustomButton
                variant="outline"
                onClick={prevStep}
                disabled={currentStep === 1}
              >
                قبلی
              </CustomButton>

              {currentStep < steps.length ? (
                <CustomButton
                  variant="primary"
                  onClick={nextStep}
                >
                  بعدی
                </CustomButton>
              ) : (
                <CustomButton
                  type="submit"
                  variant="success"
                >
                  تکمیل
                </CustomButton>
              )}
            </div>
          </div>
        </FormProvider>
      </DialogModal>
    </>
  )
}

// کامپوننت‌های مراحل
function PersonalInfoStep() {
  return (
    <div className="space-y-4">
      <RHFInput
        name="personalInfo.firstName"
        label="نام"
        placeholder="نام خود را وارد کنید"
        required
      />
      <RHFInput
        name="personalInfo.lastName"
        label="نام خانوادگی"
        placeholder="نام خانوادگی خود را وارد کنید"
        required
      />
      <RHFInput
        name="personalInfo.email"
        type="email"
        label="ایمیل"
        placeholder="ایمیل خود را وارد کنید"
        required
      />
    </div>
  )
}

function AddressStep() {
  return (
    <div className="space-y-4">
      <RHFInput
        name="addressInfo.street"
        label="آدرس"
        placeholder="آدرس خود را وارد کنید"
        required
      />
      <RHFInput
        name="addressInfo.city"
        label="شهر"
        placeholder="شهر خود را وارد کنید"
        required
      />
      <RHFInput
        name="addressInfo.postalCode"
        label="کد پستی"
        placeholder="کد پستی خود را وارد کنید"
        required
      />
    </div>
  )
}

function PreferencesStep() {
  return (
    <div className="space-y-4">
      <RHFCheckbox
        name="preferences.newsletter"
        label="عضویت در خبرنامه"
      />
      <RHFCheckbox
        name="preferences.notifications"
        label="دریافت اعلان‌ها"
      />
    </div>
  )
}
```

## جستجو با فیلتر

مثال جستجو پیشرفته با فیلترها:

```tsx
import { 
  CustomButton, 
  useDebounce, 
  useLocalStorage,
  useToggle 
} from '@workspace/custom-ui'
import { useState, useEffect } from 'react'

function AdvancedSearch() {
  const [searchTerm, setSearchTerm] = useState('')
  const [filters, setFilters] = useState({
    category: '',
    priceRange: '',
    availability: ''
  })
  const [results, setResults] = useState([])
  const [isLoading, setIsLoading] = useState(false)
  const [showFilters, toggleFilters] = useToggle(false)
  const [searchHistory, setSearchHistory] = useLocalStorage('searchHistory', [])
  const debouncedSearchTerm = useDebounce(searchTerm, 300)

  // جستجو
  useEffect(() => {
    if (debouncedSearchTerm || Object.values(filters).some(Boolean)) {
      performSearch()
    }
  }, [debouncedSearchTerm, filters])

  const performSearch = async () => {
    setIsLoading(true)
    try {
      const response = await fetch('/api/search', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          query: debouncedSearchTerm,
          filters
        })
      })
      const data = await response.json()
      setResults(data.results)
      
      // ذخیره در تاریخچه
      if (debouncedSearchTerm && !searchHistory.includes(debouncedSearchTerm)) {
        setSearchHistory(prev => [debouncedSearchTerm, ...prev.slice(0, 9)])
      }
    } catch (error) {
      console.error('خطا در جستجو:', error)
    } finally {
      setIsLoading(false)
    }
  }

  const clearFilters = () => {
    setFilters({
      category: '',
      priceRange: '',
      availability: ''
    })
  }

  return (
    <div className="p-6">
      <div className="max-w-4xl mx-auto">
        {/* جستجو */}
        <div className="mb-6">
          <div className="flex gap-2">
            <input
              type="text"
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              placeholder="جستجو کنید..."
              className="flex-1 p-3 border rounded-lg"
            />
            <CustomButton
              variant="outline"
              onClick={toggleFilters}
            >
              فیلترها
            </CustomButton>
          </div>
          
          {/* تاریخچه جستجو */}
          {searchHistory.length > 0 && (
            <div className="mt-2">
              <p className="text-sm text-gray-500 mb-1">جستجوهای اخیر:</p>
              <div className="flex flex-wrap gap-1">
                {searchHistory.slice(0, 5).map((term, index) => (
                  <button
                    key={index}
                    onClick={() => setSearchTerm(term)}
                    className="px-2 py-1 text-xs bg-gray-100 rounded hover:bg-gray-200"
                  >
                    {term}
                  </button>
                ))}
              </div>
            </div>
          )}
        </div>

        {/* فیلترها */}
        {showFilters && (
          <div className="bg-gray-50 p-4 rounded-lg mb-6">
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
              <select
                value={filters.category}
                onChange={(e) => setFilters(prev => ({ ...prev, category: e.target.value }))}
                className="p-2 border rounded"
              >
                <option value="">همه دسته‌ها</option>
                <option value="electronics">الکترونیک</option>
                <option value="clothing">پوشاک</option>
                <option value="books">کتاب</option>
              </select>
              
              <select
                value={filters.priceRange}
                onChange={(e) => setFilters(prev => ({ ...prev, priceRange: e.target.value }))}
                className="p-2 border rounded"
              >
                <option value="">همه قیمت‌ها</option>
                <option value="0-100">0 - 100 هزار تومان</option>
                <option value="100-500">100 - 500 هزار تومان</option>
                <option value="500+">بالای 500 هزار تومان</option>
              </select>
              
              <select
                value={filters.availability}
                onChange={(e) => setFilters(prev => ({ ...prev, availability: e.target.value }))}
                className="p-2 border rounded"
              >
                <option value="">همه موارد</option>
                <option value="in-stock">موجود</option>
                <option value="out-of-stock">ناموجود</option>
              </select>
            </div>
            
            <div className="flex justify-end mt-4">
              <CustomButton
                variant="outline"
                size="sm"
                onClick={clearFilters}
              >
                پاک کردن فیلترها
              </CustomButton>
            </div>
          </div>
        )}

        {/* نتایج */}
        <div>
          {isLoading ? (
            <div className="text-center py-8">
              <p>در حال جستجو...</p>
            </div>
          ) : (
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
              {results.map(item => (
                <div key={item.id} className="bg-white p-4 rounded-lg shadow">
                  <h3 className="font-semibold">{item.title}</h3>
                  <p className="text-gray-600">{item.description}</p>
                  <p className="text-lg font-bold text-green-600">{item.price} تومان</p>
                </div>
              ))}
            </div>
          )}
        </div>
      </div>
    </div>
  )
}
```
